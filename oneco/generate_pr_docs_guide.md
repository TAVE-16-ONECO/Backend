목표
- 현재 체크아웃된 작업 브랜치 기준으로 dev 대비 변경점을 로컬 git 명령어로 분석하여
  PR 문서를 Backend/oneco/document/PR_docs.md 에 생성한다.
- PR 문서 형식은 사용자가 확정한 최종 템플릿을 그대로 사용한다.
- 파일명 규칙: "PR_docs.md" (고정)
- 파일이 이미 존재하면 덮어쓴다.

========================================================
1) 사전 준비
- 저장소 루트에서 실행한다.
- 최신 상태 반영:
    - git fetch --all --prune

- 변수:
    - BASE=dev
    - BRANCH=$(git rev-parse --abbrev-ref HEAD)

- BASE 브랜치가 로컬에 없으면 origin/dev 를 BASE로 사용한다.
    - (예) if ! git show-ref --verify --quiet refs/heads/dev; then BASE=origin/dev; fi

========================================================
2) 변경점 수집 (로컬에서 직접 실행 필수)
- 커밋 목록:
    - git log --oneline --no-merges ${BASE}..HEAD > /tmp/pr_commits.txt

- 변경 파일 목록:
    - git diff --name-status ${BASE}...HEAD > /tmp/pr_files.txt

- 변경량 요약:
    - git diff --shortstat ${BASE}...HEAD > /tmp/pr_shortstat.txt

- 주요 diff 참고(요약 작성용):
    - git diff ${BASE}...HEAD > /tmp/pr_diff.txt

※ 위 산출물(/tmp/*.txt)을 근거로 아래 템플릿을 채운다.

========================================================
3) PR 문서 생성 위치/파일명
- DOC_PATH="Backend/oneco/document/PR_docs.md"
- 문서 디렉토리가 없으면 생성:
    - mkdir -p "Backend/oneco/document"
- 이미 존재하면 덮어쓴다.

========================================================
4) PR 문서 작성 규칙 (중요)
- 아래 "최종 템플릿" 섹션 구조를 절대 바꾸지 않는다. (제목/순서 유지)
- 내용은 최대한 간단하게 작성한다. (각 섹션 2~6줄 수준)
- 아래 근거로 작성한다:
    - /tmp/pr_commits.txt : 변경 의도/단위 파악
    - /tmp/pr_files.txt : 어떤 모듈/레이어가 바뀌었는지 파악
    - /tmp/pr_diff.txt : 실제 What/Why, 리뷰포인트, 리스크 도출

- What/Why 작성 가이드:
    - What: "무엇이 달라졌는지" 1~2문장 (기능/리팩터/버그픽스 중심)
    - Why: "왜 필요한지" 1~2문장 (성능/유지보수/UX/DDD 경계 등)

- 리뷰 포인트(최대 3개):
    - 변경점에서 리뷰가 필요한 핵심만 고른다.
    - 예: (1) Port/Adapter 경계 적절성 (2) 쿼리/성능(N+1) (3) 계약/Null 처리

- 테스트 방법:
    - 기본으로 `./gradlew test` 포함
    - API 변경이면 수동 검증 endpoint를 나열한다.
        - 단, 템플릿이 간단하므로 한 줄에 콤마로 나열한다.
          예) `GET /dashboard, POST /missions/{id}/accept`

- 리스크/주의사항:
    - 있을 때만 1~3개 bullet로 짧게 작성
    - 예: N+1, 트랜잭션 경계, 권한/인가 필터링, 데이터 호환성

- Relation Issue:
    - 우선순위 1) 브랜치명에서 숫자 추출 (feat/70 -> 70)
    - 우선순위 2) 커밋 메시지에서 #번호 패턴 추출
    - 유추 불가하면 `close #` 를 남기고 "(이슈번호 확인 필요)"를 덧붙인다.

========================================================
5) 최종 템플릿 (그대로 사용해서 DOC_PATH에 작성)
   아래 내용을 DOC_PATH에 생성하고, <> 부분을 git 분석 결과로 채운다.

--------------------------------------------------------
## 1. 한줄 요약 (What / Why)
- What: <이번 변경 사항 요약>
- Why: <변경 필요 이유>

## 2. 리뷰 포인트 (최대 3개)
1. <리뷰 요청 포인트 1>
2. <리뷰 요청 포인트 2>
3. <리뷰 요청 포인트 3>

## 3. 테스트 방법 (간단히)
- `./gradlew test`
- <수동 검증: endpoint 나열(필요 시)>

## 4) 리스크/주의사항 (있으면)
- <리스크 1>
- <리스크 2>

## 🔗 Relation Issue
- close #<이슈번호>
--------------------------------------------------------

========================================================
6) 마무리
- DOC_PATH 파일이 생성/갱신되었는지 확인한다.
- 문서가 길면 줄이고 핵심만 남긴다.
- 실제 변경 파일/커밋 기반으로 작성했는지 최종 점검한다.